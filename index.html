<!doctype html>
<html class="light" lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard de Performance — Chatbot</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" crossorigin href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24 }
  </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
  <div class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="w-64 p-4 border-r border-gray-200 bg-white">
      <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuD5SHbTa1nltmxWO2PyBrMZDALUSD2SzaaFNKWUMk06Pc9N4bd-d3HqRUAtZCEbxMMxiOPyzBFL25b42W_UuKbUSD8GW8MXh1sADmZC8gWZ2Q4poIuGkpNS_MtopumGv9xqW0GivHB0MdnVKez5ywRMFtJT7nP2kTW1GexPyrXlBFLFehPhDEWwywatw0gc1KCKjKw3nAhebO_KAiWKej1pFRm5mGYw3gb14E5ZEXcNC6kkP7iguowuoJbS84Dtwchhsf9iOH36OZ1A" alt="Logo" class="rounded-full w-12 h-12 mb-3">
      <h2 class="text-lg font-bold">Escola de Desenho</h2>
      <p class="text-sm text-gray-600 mb-4">Painel de performance</p>
      <nav class="flex flex-col gap-2 text-sm">
        <a href="#" class="py-2 px-3 rounded bg-blue-50">Visão Geral</a>
        <a href="#whatsapp" class="py-2 px-3 rounded hover:bg-gray-100">WhatsApp</a>
        <a href="#leads" class="py-2 px-3 rounded hover:bg-gray-100">Leads & Conversões</a>
        <a href="#financeiro" class="py-2 px-3 rounded hover:bg-gray-100">Financeiro</a>
        <a href="#ads" class="py-2 px-3 rounded hover:bg-gray-100">Google Ads</a>
        <a href="#campanhas" class="py-2 px-3 rounded hover:bg-gray-100">Campanhas</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="flex-1 p-6">
      <!-- Top KPIs -->
      <header class="grid grid-cols-3 gap-4 mb-6">
        <div class="p-4 bg-white rounded shadow">
          <p class="text-sm text-gray-500">Novos contatos (30d)</p>
          <h3 id="kpi-new-contacts" class="text-2xl font-bold">128</h3>
          <p class="text-sm text-green-600">+15% vs mês anterior</p>
        </div>
        <div class="p-4 bg-white rounded shadow">
          <p class="text-sm text-gray-500">Matriculados (mês)</p>
          <h3 id="kpi-enrolled" class="text-2xl font-bold">27</h3>
          <p class="text-sm text-green-600">+8%</p>
        </div>
        <div class="p-4 bg-white rounded shadow">
          <p class="text-sm text-gray-500">Inadimplência</p>
          <h3 id="kpi-delinquent" class="text-2xl font-bold text-red-600">8%</h3>
          <p class="text-sm text-gray-500">R$ 1.240 em aberto</p>
        </div>
      </header>

      <!-- Row: WhatsApp + Trends -->
      <section class="grid grid-cols-3 gap-4 mb-6">
        <div id="whatsapp" class="col-span-1 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Atendimentos WhatsApp</h4>
          <canvas id="chart-whatsapp" height="200"></canvas>
          <div class="mt-3 text-sm text-gray-600">
            <p><strong>Tempo médio de resposta:</strong> <span id="avg-response">00:01:35</span></p>
            <p><strong>Taxa resolvido pelo bot:</strong> <span id="bot-resolve">82%</span></p>
            <p><strong>Transbordos p/ humano:</strong> <span id="handoffs">22</span></p>
          </div>
        </div>

        <div class="col-span-2 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Tendência de uso (30 dias)</h4>
          <canvas id="chart-usage" height="200"></canvas>
        </div>
      </section>

      <!-- Row: Leads by Bairro + Funnel -->
      <section id="leads" class="grid grid-cols-3 gap-4 mb-6">
        <div class="col-span-1 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Leads por bairro (top 6)</h4>
          <canvas id="chart-neighborhoods" height="240"></canvas>
        </div>

        <div class="col-span-2 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Funil: Lead → Aula → Matrícula</h4>
          <canvas id="chart-funnel" height="200"></canvas>
          <div class="mt-2 text-sm text-gray-600">Ex: 2.103 leads → 420 agendados → 127 matriculados</div>
        </div>
      </section>

      <!-- Row: Financeiro + Google Ads -->
      <section id="financeiro" class="grid grid-cols-3 gap-4 mb-6">
        <div class="col-span-1 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Financeiro</h4>
          <p class="text-sm">Recebido (mês)</p>
          <h3 id="kpi-revenue" class="text-2xl font-bold">R$ 12.340</h3>
          <p class="text-sm text-red-600">Inadimplência: R$ 1.240</p>
          <table class="w-full text-sm mt-3">
            <tr><td>Pagamentos</td><td class="text-right">54</td></tr>
            <tr><td>Méd. mensalidade</td><td class="text-right">R$ 98,00</td></tr>
          </table>
        </div>

        <div id="ads" class="col-span-2 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Google Ads</h4>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <p class="text-sm">Investimento (30d)</p>
              <h3 id="kpi-ads-spend" class="text-2xl font-bold">R$ 1.230</h3>
              <p class="text-sm">CPL: R$ 5,40</p>
            </div>
            <div>
              <p class="text-sm">Cliques</p>
              <h3 id="kpi-ads-clicks" class="text-2xl font-bold">1.845</h3>
              <p class="text-sm">Conversões p/ WhatsApp: 512</p>
            </div>
          </div>
          <canvas id="chart-ads" height="160" class="mt-4"></canvas>
        </div>
      </section>

      <!-- Row: Campanhas promocionais -->
      <section id="campanhas" class="grid grid-cols-3 gap-4 mb-6">
        <div class="col-span-1 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Disparos promocionais</h4>
          <p class="text-sm">Totais enviados</p>
          <h3 id="kpi-sends" class="text-2xl font-bold">3.210</h3>
          <p class="text-sm">Taxa de resposta: 12%</p>
        </div>
        <div class="col-span-2 p-4 bg-white rounded shadow">
          <h4 class="font-semibold mb-2">Quentes / Mornos / Frios</h4>
          <canvas id="chart-temperature" height="120"></canvas>
        </div>
      </section>

      <!-- Footer / notas -->
      <footer class="text-sm text-gray-500 mt-6">Dados de demo — conecte suas fontes (WhatsApp API, Google Ads, Google Sheets) para popular com dados reais.</footer>
    </main>
  </div>

  <script>
    // Mock data (substitua pelas suas fontes reais)
    const labels30 = Array.from({length:30}, (_,i)=> i+1);

    // WhatsApp messages trend
    new Chart(document.getElementById('chart-whatsapp'), {
      type: 'line',
      data: {
        labels: labels30,
        datasets: [{
          label: 'Mensagens enviadas',
          data: labels30.map(x=> Math.round(80 + 60*Math.sin(x/4) + Math.random()*40)),
          fill: true,
          tension: 0.3,
        }]
      },
      options: { responsive:true, plugins:{ legend:{ display:false } } }
    });

    // Usage trend
    new Chart(document.getElementById('chart-usage'), {
      type: 'line',
      data: {
        labels: labels30,
        datasets: [{ label:'Usuários ativos', data: labels30.map(x=> Math.round(300 + 80*Math.cos(x/5) + Math.random()*60)), tension:0.25 }]
      },
      options:{ responsive:true }
    });

    // Neighborhoods (bar)
    new Chart(document.getElementById('chart-neighborhoods'), {
      type: 'bar',
      data: {
        labels: ['Centro','Jardim','Vila Nova','Santa Bárbara','São José','Boa Vista'],
        datasets: [{ label:'Leads', data:[2103,1845,1301,987,512,320]}]
      },
      options:{ indexAxis:'y', responsive:true }
    });

    // Funnel (simulated as stacked horizontal bars)
    new Chart(document.getElementById('chart-funnel'), {
      type: 'bar',
      data: {
        labels: ['Leads','Agendados','Matriculados'],
        datasets:[{ label:'Quantidade', data:[2103,420,127], backgroundColor:['#93C5FD','#60A5FA','#2563EB'] }]
      },
      options:{ responsive:true }
    });

    // Ads (bar)
    new Chart(document.getElementById('chart-ads'), {
      type: 'line',
      data: { labels: ['Semana 1','Semana 2','Semana 3','Semana 4'], datasets:[{ label:'Cliques', data:[420,485,510,430], tension:0.3 },{ label:'Conversões', data:[120,145,135,112], tension:0.3 }] },
      options:{ responsive:true }
    });

    // Temperature (doughnut)
    new Chart(document.getElementById('chart-temperature'), {
      type: 'doughnut',
      data: { labels:['Quente','Morno','Frio'], datasets:[{ data:[72,210,192], backgroundColor:['#ef4444','#f59e0b','#60a5fa'] }] },
      options:{ responsive:true }
    });

  </script>
</body>
</html>
